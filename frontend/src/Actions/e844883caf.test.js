// Test generated by RoostGPT for test ExpressJs using AI Type Open AI and AI Model gpt-4

const axios = require('axios');
const { deleteCommentOnPost } = require('./Post');

jest.mock('axios');

describe('deleteCommentOnPost', () => {
  const id = '123';
  const commentId = '456';
  const dispatch = jest.fn();

  beforeEach(() => {
    dispatch.mockClear();
  });

  it('dispatches deleteCommentRequest and deleteCommentSuccess when API call is successful', async () => {
    const message = 'Comment deleted successfully';
    axios.delete.mockResolvedValueOnce({ data: { message } });

    await deleteCommentOnPost(id, commentId)(dispatch);

    expect(dispatch).toHaveBeenCalledWith({ type: 'deleteCommentRequest' });
    expect(dispatch).toHaveBeenCalledWith({ type: 'deleteCommentSuccess', payload: message });
  });

  it('dispatches deleteCommentRequest and deleteCommentFailure when API call fails', async () => {
    const message = 'Error deleting comment';
    axios.delete.mockRejectedValueOnce({ response: { data: { message } } });

    await deleteCommentOnPost(id, commentId)(dispatch);

    expect(dispatch).toHaveBeenCalledWith({ type: 'deleteCommentRequest' });
    expect(dispatch).toHaveBeenCalledWith({ type: 'deleteCommentFailure', payload: message });
  });
});
