// Test generated by RoostGPT for test ExpressJs using AI Type Open AI and AI Model gpt-4

const axios = require('axios');
const { deletePost } = require('./Post');

jest.mock('axios');

describe('deletePost method', () => {
  let id;
  let dispatch;

  beforeEach(() => {
    id = '123';
    dispatch = jest.fn();
  });

  test('should dispatch deletePostRequest and deletePostSuccess on successful deletion', async () => {
    axios.delete.mockResolvedValue({
      data: {
        message: 'Post deleted successfully'
      }
    });

    await deletePost(id)(dispatch);

    expect(dispatch).toHaveBeenCalledWith({
      type: 'deletePostRequest'
    });
    expect(dispatch).toHaveBeenCalledWith({
      type: 'deletePostSuccess',
      payload: 'Post deleted successfully'
    });
  });

  test('should dispatch deletePostRequest and deletePostFailure on unsuccessful deletion', async () => {
    axios.delete.mockRejectedValue({
      response: {
        data: {
          message: 'Error deleting post'
        }
      }
    });

    await deletePost(id)(dispatch);

    expect(dispatch).toHaveBeenCalledWith({
      type: 'deletePostRequest'
    });
    expect(dispatch).toHaveBeenCalledWith({
      type: 'deletePostFailure',
      payload: 'Error deleting post'
    });
  });
});
